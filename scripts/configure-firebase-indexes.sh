#!/bin/bash

echo "üî• Configuraci√≥n de √çndices de Firestore"
echo "========================================"
echo ""
echo "Para solucionar los errores de √≠ndices, sigue estos pasos:"
echo ""
echo "üìã OPCI√ìN 1: Configuraci√≥n Autom√°tica (Recomendada)"
echo "1. Haz clic en estos enlaces para crear los √≠ndices autom√°ticamente:"
echo ""
echo "   üéØ √çndice para Objetivos de Ahorro:"
echo "   https://console.firebase.google.com/v1/r/project/sueldo-2b36b/firestore/indexes?create_composite=ClFwcm9qZWN0cy9zdWVsZG8tMmIzNmIvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3NhdmluZ3NHb2Fscy9pbmRleGVzL18QARoKCgZ1c2VySWQQARoNCgljcmVhdGVkQXQQAhoMCghfX25hbWVfXxAC"
echo ""
echo "   üí∞ √çndice para Contribuciones:"
echo "   https://console.firebase.google.com/v1/r/project/sueldo-2b36b/firestore/indexes?create_composite=Cllwcm9qZWN0cy9zdWVsZG8tMmIzNmIvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3NhdmluZ3NDb250cmlidXRpb25zL2luZGV4ZXMvXxABGgoKBnVzZXJJZBABGggKBGRhdGUQAhoMCghfX25hbWVfXxAC"
echo ""
echo "2. En cada enlace, haz clic en 'Crear √≠ndice'"
echo "3. Espera a que se complete la creaci√≥n (puede tomar unos minutos)"
echo ""
echo "üìã OPCI√ìN 2: Configuraci√≥n Manual"
echo "1. Ve a Firebase Console: https://console.firebase.google.com"
echo "2. Selecciona tu proyecto 'sueldo-2b36b'"
echo "3. Ve a Firestore Database > Indexes"
echo "4. Haz clic en 'Crear √≠ndice' y configura:"
echo ""
echo "   √çndice 1 - savingsGoals:"
echo "   - Campo: userId (Ascendente)"
echo "   - Campo: createdAt (Descendente)"
echo ""
echo "   √çndice 2 - savingsContributions:"
echo "   - Campo: userId (Ascendente)"
echo "   - Campo: date (Descendente)"
echo ""
echo "üìã OPCI√ìN 3: Firebase CLI"
echo "1. Instala Firebase CLI: npm install -g firebase-tools"
echo "2. Autent√≠cate: firebase login"
echo "3. Inicializa: firebase init firestore"
echo "4. Despliega √≠ndices: firebase deploy --only firestore:indexes"
echo ""
echo "‚ö†Ô∏è  NOTA IMPORTANTE:"
echo "La aplicaci√≥n funciona correctamente sin los √≠ndices."
echo "Los √≠ndices solo mejoran el rendimiento y habilitan el ordenamiento autom√°tico."
echo ""
echo "‚úÖ Una vez configurados los √≠ndices, los errores desaparecer√°n autom√°ticamente."
